<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lucky Draw App</title>
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css">
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="modal.css" />
    
    <!-- Javascript -->
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="web3-lib-version-updated.js"></script>
    <script src="web3-config.js"></script>
    <script src="web3-connector.js"></script>
     <!-- Chart JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
     <!-- Chart JS Plugin for displaying text over chart -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.1.0/chartjs-plugin-datalabels.min.js"></script>
  </head>
  <body>
    <section class="hero">
      <div class="hero-body">
        <div class="container">
          <h1 class="title" style="color: white;"">
            Lucky Draw App
          </h1>
        </div>
      </div>
    </section>
    <p class="p_network">
      <span style="color: wheat;">Network: </span>
      <span id="eth_network" style="color: wheat;"></span>
    </p>
    <div class="tile is-ancestor" style="margin-left: 10px; margin-right: 10px;">
      <div class="tile is-parent">
        <article class="tile is-child box notification is-info">
          <p class="title">Register</p>
            <table class="info">
              <tbody>
                <td class="table-label">App Contract:</td>
                <td class="table-value">
                  <span id="luckyDrawContractAddress"></span>
                  <a href="javascript:openAppContractOnEtherScan();" style="margin-left: 8px;">
                    <i class="fas fa-lg fa-external-link-alt"></i>
                  </a>
                </td>
                <tr>
                  <td class="table-label">Contract Name:</td>
                  <td class="table-value">
                    <input id="register-btn" class="input is-rounded" style="width:27em;" type="text" placeholder="Input your name" />
                    <button class="button is-warning is-success is-rounded" style="font-size:16px;" onClick="javascript:register();">Register</button>
                  </td>
                </tr>
              </tbody>
            </table>
            <br>
          <p style="color: white;">Remark: Allow persons to register and you will be asked to pay your  <u>registration fee 0.05 ether</u> per game</p>
        </article>
      </div>
      <div class="tile is-parent">
        <article class="tile is-child box notification is-info">
          <p class="title">Your Wallet</p>
          <table class="info">
            <tbody>
              <tr>
                <td class="table-label">Account:</td>
                <td class="table-value">
                  <span id="eth_address"></span>
                  <a href="javascript:openUserAddressOnEtherScan();" style="margin-left: 8px;">
                    <i class="fas fa-lg fa-external-link-alt"></i>
                  </a>
                </td>
              </tr>
              <tr>
                <td class="table-label">Ether:</td>
                <td class="table-value"><span id="balance"></span></td>
              </tr>
            </tbody>
          </table>
        </article>
      </div>
    </div>
      
    <div style="display:none;">
      <div class="is-parent">
        <table class="table table-borderless mb-0" style="width: 100%;">
          <thead>
            <tr>
              <th scope="col">No.</th>
              <th scope="col">Address</th>
              <th scope="col">Name</th>
              <!-- <th scope="col">Ether</th>
              <th scope="col"></th> -->
            </tr>
          </thead>
          <tbody>
            <tr id="acct_copy" >
              <td><p class="acct_no"></p></td>
              <td><p class="acct_key"></p></td>
              <td><p class="acct_name"></p></td>
              <!-- <td><p class="acct_balances"></p></td> -->
              <!-- <td><p><button class="acct_remove_button button is-danger is-rounded" style="height:25px; width:100px; " onClick="javascript:removeAccount(xx);">Remove</button></p></td> -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>

   

    <table class="center" style="border:0px solid black; width: 95%;">
      <tr>
        <td style="border:0px solid black; width: 35%;">
          <div class="bg-image h-100" style="background-color: #6095F0;">
            <div class="mask d-flex align-items-center h-100">
              <div class="container">
                <div class="row justify-content-center">
                  <div class="col-12">
                    <div class="shadow-2-strong" style="background-color: #f5f7fa;">
                      <div class="card-body">
                        <div class="table-responsive">
                          <div>
                            <table class="table table-borderless mb-0" style="width: 100%;">
                              <thead>
                                <tr>
                                  <th scope="col">No.</th>
                                  <th scope="col">Address</th>
                                  <th scope="col">Name</th>
                                  <!-- <th scope="col">Ether</th>
                                  <th scope="col"></th> -->
                                </tr>
                              </thead>
                              <tbody id="more_acct"></tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </td>
        <td>
          <!-- <div class="wrapper"> -->
            <div class="container">
              <canvas id="wheel"></canvas>
              <button id="spin-btn">Spin</button>
              <img src="spinner-arrow.png" alt="spinner-arrow" />
            </div>
            <div id="final-value" style="color: wheat;">
              <p>Click On The Spin Button To Start</p>
            </div>
          <!-- </div> -->
        </td>
        <td style="border:0px solid black; width: 35%; text-align: center; vertical-align: middle;">
          <button id="send-reward-btn"  class="button is-warning is-success is-rounded" style="font-size:25px;" onClick="javascript:adminTransfer();">Send Reward</button>
          <button id="reset-game-btn" class="button is-warning is-danger is-rounded" style="font-size:25px;" onClick="javascript:adminReset();">Reset Game</button>
        </td>
      </tr>
    </table>
    
      <!-- The Modal -->
    <div id="myModal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <div class="modal-header">
          <span class="close">&times;</span>
          <h2>Result!!</h2>
        </div>
        <div class="modal-body">
          <p id="modal-value"></p>
        </div>
      </div>
    </div>
  <script src="spin-wheel.js"></script>
    <!-- <script>        
      if(userAccount == adminAccount) {
        $("#send-reward-btn").show();
        $("#reset-game-btn").show();
      }
    </script> -->
  </body>
</html>